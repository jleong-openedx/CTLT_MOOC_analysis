Setup

1. You need a Google account with Editor access to a BigQuery project. The owner of the account must generate a service account: https://developers.google.com/identity/protocols/OAuth2ServiceAccount.

2. Install Anaconda (tested with https://repo.continuum.io/archive/Anaconda2-4.1.1-Linux-x86_64.sh). You will also need Python 2.7 (tested with Python 2.7.12).

3. After cloning this repo, run the below. This will generate a .ipynb file per course specified in example-master-notebook.ipynb.

cd /home/yourdirectory/CTLT_MOOC_analysis/metric/

/home/yourdirectory/anaconda2/bin/jupyter nbconvert --execute example-master-notebook.ipynb --ExecutePreprocessor.kernel_name=python --ExecutePreprocessor.timeout=-1

4. Sign into the/a Google account with Editor access to the BigQuery project. The credentials file should be automatically downloaded (bigquery_credentials.dat).

5. With the credentials file, subsequent runs can be set:

0 12 * * * cd /home/yourdirectory/; source .bashrc; cd /home/yourdirectory/CTLT_MOOC_analysis/metric/; /home/yourdirectory/anaconda2/bin/jupyter nbconvert --execute example-master-notebook.ipynb --ExecutePreprocessor.kernel_name=python --ExecutePreprocessor.timeout=-1

The .ipynb files will be generated in /home/yourdirectory/CTLT_MOOC_analysis/metric/assets.

To generate the .html files, set up another cronjob. Ensure that you have allocated enough time for the .ipynb files to generate first:

0 2 * * * /bin/bash /home/yourdirectory/CTLT_MOOC_analysis/metric/assets/export.sh

The .html files will be generated in /home/yourdirectory/CTLT_MOOC_analysis/metric/assets/assets.